<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friends Finder</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <h1> Survey Questions</h1>
        <hr>
        <h3>About You</h3>
        <p>Name (required)</p>
        <input type="text" id="friend-name" class="form-control" required>
        <p>Link to Photo (required)</p>
        <input type="text" id="friend-photo" class="form-control" required>
        <hr>
        <h3>Question 1</h3>
        <h4>
            <strong>
        I like short walks to the fridge...
            </strong>
        </h4>

        <select class="chosen-select" id="q1">
            <option selected>Select an option</option>
            <option value="1">1 (Strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 2</h3>
        <h4>
                <strong>
                    You can catch on me on the dance floor, I am the one dancing off-beat
                </strong>
            </h4>

        <select class="chosen-select " id="q2">
            <option selected>Select an option</option>
            <option value="1">1 (Strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 3</h3>
        <h4>
                <strong>
            Nothing beats free tacos. NOTHING
                </strong>
            </h4>

        <select class="chosen-select " id="q3">
            <option selected>Select an option</option>
            <option value="1">1 (Strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 4</h3>
        <h4>
                <strong>
            When I receive a compliment, I check behind me just in case they were talking 'past me'
            rather than 'at me'.
                </strong>
            </h4>

        <select class="chosen-select " id="q4">
                <option selected>Select an option</option>
            <option value="1">1 (Strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 5</h3>
        <h4>
                <strong>
            If I could be recognized for anything, it would for my ability to drink all night and still
            wake up to go to work..not all put together but just enough to clock in
                </strong>
            </h4>

        <select class="chosen-select " id="q5">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 6</h3>
        <h4>
                <strong>
            I yawn too many times throughout the day for no reason
                </strong>
            </h4>

        <select class="chosen-select " id="q6">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 7</h3>
        <h4>
                <strong>
            When I sing, people around me must be hurting
                </strong>
            </h4>

        <select class="chosen-select " id="q7">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 8</h3>
        <h4>
                <strong>
            Last name: tired, First name: I am soo damn
           
                </strong>
            </h4>

        <select class="chosen-select " id="q8">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 9</h3>
        <h4>
                <strong>
            I laugh at my own jokes and think im soooo funny
                </strong>
            </h4>

        <select class="chosen-select " id="q9">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <h3>Question 10</h3>
        <h4>
                <strong>
            This homework SSUUUCCCCKKKEEDDD...it was great!
                </strong>
            </h4>

        <select class="chosen-select " id="q10">
                <option selected>Select an option</option>
                <option value="1">1 (Strongly disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10 (Strongly agree)</option>
        </select>
        <br>
        <br>

        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit" style="background-color: #337ab7">
            <span class="fa fa-check-circle"> Submit</span></button>
        <hr>
        <footer class="footer">
            <div class="container">
                <p><a href="/api/friends">API Friends List</a> | <a
                        href="https://github.com/h-Benitez13/Friends-finder">Github Repo</a>
            </div>
        </footer>
        <div id="resultsModal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">This is your friend now</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <h2 class="text-cener" id="matchName"></h2>
                    <img class="img-fluid" id="matchImg" src = "" style= "width:250px;height:275px;" alt=""/>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  
                </div>
              </div>
            </div>
          </div>


    </div>


</body>

</html>

<script type="text/javascript">


    $("#submit").on("click", function (event) {
        event.preventDefault();
        if (
            $("#friend-name").val().trim() !== "" &&
            $("#friend-photo").val().trim() !== ""
        ) {
            var userData = {
            name: $("#friend-name").val().trim(),
            photo: $("#friend-photo").val().trim(),
            score: [
                parseInt($("#q1").val()),
                parseInt($("#q2").val()),
                parseInt($("#q3").val()),
                parseInt($("#q4").val()),
                parseInt($("#q5").val()),
                parseInt($("#q6").val()),
                parseInt($("#q7").val()),
                parseInt($("#q8").val()),
                parseInt($("#q9").val()),
                parseInt($("#q10").val()),

            ]

        };
        



        $.post("/api/friends", userData, data => {
            console.log("response = " + JSON.stringify(data));
            $("#matchName").text(data.name);
            $("#matchImg").attr("src", data.photo);

            $("#resultsModal").modal("show");

        });
    } else {
        alert("please fill out all fields before submitting");
    }
    return false;
           


       

    });
    $("#close-modal").on("click", event => {
        $.get("/", (req,res) => {
            location.replace(res);
        })
    })

</script>